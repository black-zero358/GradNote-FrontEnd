# GradNote-FrontEnd 项目概述

## 1. 项目简介

GradNote是一个智能错题管理与学习工具，帮助学生高效记录、分析和复习错题，提高学习效率。通过AI驱动的知识点提取和解题分析，GradNote能够自动关联错题与知识点，生成个性化的学习报告和复习计划。

### 1.1 核心价值

- 智能化错题管理，减轻学生整理错题负担
- 精准分析错题知识点，提高学习针对性
- 数据可视化展示学习进度，激励持续学习
- AI辅助解题分析，帮助理解解题思路

### 1.2 主要功能模块

- **错题智能录入**：支持图片上传，自动OCR识别题目和答案内容
- **知识点分析**：自动分析错题涉及的知识点，并关联到知识体系
- **解题过程生成**：AI辅助生成详细的解题步骤和思路分析
- **知识点审核**：用户可确认、编辑或拒绝系统提取的知识点
- **学习数据可视化**：直观展示错题分布、知识点掌握情况等学习数据
- **多图片批量上传**：支持拖拽或多选方式同时上传多张错题图片
- **数学公式渲染**：支持LaTeX数学公式的显示和编辑
- **Markdown支持**：题目和解析支持Markdown格式

## 2. 技术栈

### 2.1 核心框架与库

- **前端框架**：React 18 (`react`、`react-dom`)
- **路由管理**：React Router v6 (`react-router-dom`)
- **状态管理**：
  - Zustand (`zustand`) - 客户端状态管理
  - TanStack Query (`@tanstack/react-query`) - 服务器状态管理与缓存
- **UI组件库**：Ant Design 5.x (`antd`、`@ant-design/icons`)
- **HTTP客户端**：Axios (`axios`)
- **样式解决方案**：Styled Components (`styled-components`)
- **数据可视化**：Recharts (`recharts`)
- **数学公式**：KaTeX (`katex`、`react-katex`)
- **Markdown渲染**：React Markdown (`react-markdown`、`remark-math`、`rehype-katex`)
- **构建工具**：Create React App (`react-scripts`)

### 2.2 依赖版本

| 依赖包 | 版本 |
| ------ | ---- |
| react | ^18.2.0 |
| react-dom | ^18.2.0 |
| react-router-dom | ^6.20.0 |
| zustand | ^5.0.3 |
| @tanstack/react-query | ^5.72.2 |
| antd | ^5.24.6 |
| @ant-design/icons | ^6.0.0 |
| axios | ^1.6.0 |
| styled-components | ^6.1.17 |
| recharts | ^2.15.1 |
| react-markdown | ^10.1.0 |
| katex | ^0.16.22 |
| react-katex | ^3.0.1 |
| remark-math | ^6.0.0 |
| rehype-katex | ^7.0.1 |

## 3. 项目结构

```
gradnote-frontend/
├── public/                 # 静态资源
│   └── index.html          # HTML入口文件
├── src/                    # 源代码
│   ├── api/                # API接口模块
│   │   ├── auth.service.js     # 认证相关API
│   │   ├── dashboard.service.js # 数据看板相关API
│   │   ├── image.service.js    # 图片处理API
│   │   ├── knowledge.service.js # 知识点相关API
│   │   ├── question.service.js # 错题相关API
│   │   ├── solving.service.js  # 解题过程API
│   │   └── axios.config.js     # Axios配置
│   ├── components/         # UI组件
│   │   ├── common/         # 通用组件
│   │   ├── dashboard/      # 仪表盘组件
│   │   ├── knowledge/      # 知识点相关组件
│   │   └── submission/     # 错题提交组件
│   ├── hooks/              # 自定义Hooks
│   │   ├── useSubmission.js    # 错题提交流程Hook
│   │   ├── useKnowledgeReview.js # 知识点审核Hook
│   │   └── useDashboard.js     # 仪表盘数据Hook
│   ├── layouts/            # 布局组件
│   │   ├── MainLayout.jsx      # 主布局
│   │   └── AuthLayout.jsx      # 认证页面布局
│   ├── pages/              # 页面组件
│   │   ├── LoginPage.jsx       # 登录页面
│   │   ├── DashboardPage.jsx   # 仪表盘页面
│   │   ├── SubmissionDashboard.jsx # 错题提交页面
│   │   └── KnowledgeReviewPage.jsx # 知识点审核页面
│   ├── stores/             # 状态管理
│   │   ├── authStore.js        # 认证状态
│   │   └── submissionStore.js  # 错题提交状态
│   ├── styles/             # 样式文件
│   │   ├── global.css          # 全局样式
│   │   └── theme.js            # 主题配置
│   ├── utils/              # 工具函数
│   │   ├── localStorage.js     # 本地存储工具
│   │   └── imageUtils.js       # 图片处理工具
│   ├── App.jsx             # 应用主组件
│   ├── router.jsx          # 路由配置
│   ├── queryClient.js      # TanStack Query配置
│   ├── config.js           # 全局配置
│   └── index.js            # 应用入口
```

## 4. 核心技术说明

### 4.1 状态管理

项目采用双轨状态管理策略：
- **Zustand**：管理客户端本地状态，如UI状态、表单状态、用户设置等
- **TanStack Query**：管理服务器状态，处理API请求、响应缓存、数据更新等

### 4.2 路由结构

- `/login` - 登录/注册页面
- `/` - 仪表盘页面（数据概览）
- `/submission` - 错题提交页面
- `/knowledge` - 知识点审核页面
- `/test-math` - 数学公式测试页面

### 4.3 API接口

项目使用RESTful API与后端交互，API基础URL为`/api/v1`。主要API包括：

- **认证API**：登录、注册、刷新Token
- **错题管理API**：创建、查询、更新错题
- **图片处理API**：上传图片、OCR识别
- **知识点API**：分析知识点、标记确认知识点
- **解题API**：生成解题过程
- **仪表盘API**：获取统计数据和图表数据

### 4.4 认证机制

系统使用OAuth2密码流进行认证：

1. 用户通过`/api/v1/auth/login`获取访问令牌
2. 前端将令牌存储在localStorage中
3. 所有API请求通过Axios拦截器自动附加令牌
4. 当收到401错误时，系统自动登出并重定向到登录页面

## 5. 错题提交流程

1. **图片上传**：用户上传错题图片
2. **OCR识别**：系统自动识别题目文本
3. **答案识别**：系统识别答案文本（可选）
4. **知识点分析**：系统分析题目涉及的知识点类别
5. **解题过程**：系统生成详细解题步骤
6. **知识点提取**：从解题过程中提取关键知识点
7. **知识点审核**：用户确认或编辑提取的知识点

## 6. 环境要求与配置

### 6.1 环境要求

- Node.js 16.x 或更高版本
- npm 8.x 或更高版本

### 6.2 环境变量配置

主要配置项：
- `REACT_APP_BACK_END_API_URL`: 后端API地址，默认为 `http://127.0.0.1:8000/api/v1`
- `REACT_APP_BACK_END_BASE_URL`: 后端服务器基础URL (用于访问静态资源如图片)

## 7. 目标用户

- 中学生和大学生：需要高效管理和复习错题的学生
- 教师：希望追踪学生学习进度和知识点掌握情况的教育工作者
- 教育机构：需要整合错题管理功能到现有教育系统的机构
